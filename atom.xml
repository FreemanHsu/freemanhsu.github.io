<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title><![CDATA[AndyHsu's Blog]]></title>
  
  <link href="/atom.xml" rel="self"/>
  <link href="http://freemanhsu.github.io/"/>
  <updated>2015-03-30T13:14:44.348Z</updated>
  <id>http://freemanhsu.github.io/</id>
  
  <author>
    <name><![CDATA[Andy Hsu]]></name>
    <email><![CDATA[andy.xu1994@gmail.com]]></email>
  </author>
  
  <generator uri="http://zespia.tw/hexo/">Hexo</generator>
  
  <entry>
    <title><![CDATA[Compiling Linux Kernel]]></title>
    <link href="http://freemanhsu.github.io/Compiling-Linux-Kernel/"/>
    <id>http://freemanhsu.github.io/Compiling-Linux-Kernel/</id>
    <published>2015-03-06T03:20:02.000Z</published>
    <updated>2015-03-30T13:01:58.000Z</updated>
    <content type="html"><![CDATA[<p>To be prepared to make changes to the kernel, it’s necessary to give it a try to compile the linux kernel successfully.</p>
<h3 id="Environment">Environment</h3>
<ul>
<li>VMware Fusion 7</li>
<li>Ubuntu 12.04.5</li>
<li>Root permission</li>
</ul>
<a id="more"></a>
<h3 id="Objective">Objective</h3>
<p>Initially, the kernel version of the Ubuntu 12.04.5 is 3.13.0-32-generic according to </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">uname -r</div></pre></td></tr></table></figure>

<p>If you wanna check your ubuntu version, use</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cat /etc/issue</div></pre></td></tr></table></figure>

<p>Our goal is to update the version of kernel to newer one, in this case, 3.18.</p>
<h3 id="Compile_the_Linux_Kernel">Compile the Linux Kernel</h3>
<h5 id="1-_Download_the_kernel_from_here-">1. Download the kernel from <a href="http://www.kernel.org" target="_blank" rel="external">here</a>.</h5>
<h5 id="2-_Copy_to_a_directory_and_extract-">2. Copy to a directory and extract.</h5>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">cp linux-<span class="number">3</span>.X.X.tar.xz /usr/src</div><div class="line"><span class="built_in">cd</span> /usr/src</div><div class="line">xz <span class="operator">-d</span> linux-<span class="number">3</span>.X.X.tar.xz</div><div class="line">tar -xf linux-<span class="number">3</span>.X.X.tar</div><div class="line"><span class="built_in">cd</span> linux-<span class="number">3</span>.X.X</div></pre></td></tr></table></figure>

<h5 id="3-_If_not_the_first_time_to_compile">3. If not the first time to compile</h5>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">make clean</div><div class="line">make mrproper</div></pre></td></tr></table></figure>

<h5 id="4-_Configuration">4. Configuration</h5>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">make menuconfig</div></pre></td></tr></table></figure>

<p>There might be a tiny prob here saying</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">fatal error: curses.h: No such file or directory</div></pre></td></tr></table></figure>

<p>Solution under Ubuntu:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">sudo</span> apt-get install libncurses5-dev libncursesw5-dev</div></pre></td></tr></table></figure>

<h5 id="5-_Compile">5. Compile</h5>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">make</div><div class="line">make modules_install</div><div class="line">make install</div></pre></td></tr></table></figure>

<p>Suggestion here: enlarge the memory size of your virtual system, which may help reduce the compiling time dramatically.</p>
<p>It takes hours to compile with 1 core and 1-GB memory with GUI turned on…</p>
<h5 id="6-_Update_GRUB">6. Update GRUB</h5>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">cd</span> /boot</div><div class="line">mkinitramfs <span class="number">3.18</span>.<span class="number">8</span> -o initrd.img-<span class="number">3.18</span>.<span class="number">8</span></div><div class="line">cp /usr/src/linux-<span class="number">3.18</span>.<span class="number">8</span>/arch/x86_64/boot/bzImage /boot/vmlinuz-<span class="number">3.18</span>.<span class="number">8</span></div><div class="line">ln <span class="operator">-s</span> /boot/System.map-<span class="number">3.18</span>.<span class="number">8</span> /boot/System.map</div><div class="line"><span class="built_in">sudo</span> update-grub2</div></pre></td></tr></table></figure>

<h5 id="7-_Reboot_and_Check!">7. Reboot and Check!</h5>
]]></content>
    <summary type="html">
    <![CDATA[<p>To be prepared to make changes to the kernel, it’s necessary to give it a try to compile the linux kernel successfully.</p>
<h3 id="Environment">Environment</h3>
<ul>
<li>VMware Fusion 7</li>
<li>Ubuntu 12.04.5</li>
<li>Root permission</li>
</ul>
]]>
    
    </summary>
    
      <category term="Linux Kernel" scheme="http://freemanhsu.github.io/tags/Linux-Kernel/"/>
    
      <category term="Operating System" scheme="http://freemanhsu.github.io/categories/Operating-System/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Start a Rails Project]]></title>
    <link href="http://freemanhsu.github.io/Start-a-Rails-Project/"/>
    <id>http://freemanhsu.github.io/Start-a-Rails-Project/</id>
    <published>2015-02-19T15:25:48.000Z</published>
    <updated>2015-03-30T13:03:28.000Z</updated>
    <content type="html"><![CDATA[<h2 id="Step_by_Step">Step by Step</h2>
<h3 id="Step_1">Step 1</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">mkdir &lt;project name&gt;   </div><div class="line"><span class="built_in">cd</span> &lt;project name&gt;</div><div class="line">vagrant init ubuntu/trusty64</div><div class="line">vagrant up</div></pre></td></tr></table></figure>

<a id="more"></a>
<h3 id="Step_2">Step 2</h3>
<p>Change the memory size, which is necessary for developing.<br>We also give the virtual machine a fixed IP address for convenience.<br>Modify Vagrantfile with your favourite editor, adding the following lines.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">config.vm.provider <span class="string">"virtualbox"</span> <span class="keyword">do</span> |v|</div><div class="line">  v.memory = <span class="number">2048</span></div><div class="line">end</div><div class="line">config.vm.network :private_network, ip: <span class="string">"192.168.33.33"</span></div></pre></td></tr></table></figure>

<p>and then  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">vagrant reload</div></pre></td></tr></table></figure>

<p>More for IP address,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">sudo</span> vim /etc/hosts</div></pre></td></tr></table></figure>

<p>and add</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="number">192.168</span>.<span class="number">33.33</span> &lt;project name&gt;.dev</div></pre></td></tr></table></figure>

<h3 id="Step_3">Step 3</h3>
<p>Time for installing rails.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">vagrant ssh</div></pre></td></tr></table></figure>

<p>and type in following lines one by one</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">sudo</span> apt-get update</div><div class="line"><span class="built_in">sudo</span> apt-get install -y git-core curl zlib1g-dev build-essential \</div><div class="line">                     libssl-dev libreadline-dev libyaml-dev libsqlite3-dev sqlite3 \</div><div class="line">                     libxml2-dev libxslt1-dev libcurl4-openssl-dev software-properties-common</div></pre></td></tr></table></figure>

<p>Install rbenv, which is a tool for installing ruby and version control of ruby.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">cd</span> </div><div class="line">git clone git://github.com/sstephenson/rbenv.git .rbenv</div><div class="line"><span class="built_in">echo</span> <span class="string">'export PATH="$HOME/.rbenv/bin:$PATH"'</span> &gt;&gt; ~/.bashrc</div><div class="line"><span class="built_in">echo</span> <span class="string">'eval "$(rbenv init -)"'</span> &gt;&gt; ~/.bashrc</div><div class="line">git clone git://github.com/sstephenson/ruby-build.git ~/.rbenv/plugins/ruby-build</div><div class="line"><span class="built_in">echo</span> <span class="string">'export PATH="$HOME/.rbenv/plugins/ruby-build/bin:$PATH"'</span> &gt;&gt; ~/.bashrc</div><div class="line"><span class="keyword">exec</span> <span class="variable">$SHELL</span></div></pre></td></tr></table></figure>

<p>Now is ruby</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">rbenv install <span class="number">2.1</span>.<span class="number">2</span></div><div class="line">rbenv global <span class="number">2.1</span>.<span class="number">2</span></div></pre></td></tr></table></figure>

<p>Next is rails</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">echo</span> <span class="string">"gem: --no-ri --no-rdoc"</span> &gt; ~/.gemrc</div></pre></td></tr></table></figure>

<p>This is for simplicity.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">gem install rails -v <span class="number">4.1</span>.<span class="number">2</span></div><div class="line">rbenv rehash</div></pre></td></tr></table></figure>

<p>Now database.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">sudo</span> apt-get install mysql-server  mysql-client  libmysqlclient-dev</div></pre></td></tr></table></figure>

<p>Environment ready!</p>
<p><a href="http://happypeter.github.io/rails10/" target="_blank" rel="external">Reference</a></p>
]]></content>
    <summary type="html">
    <![CDATA[<h2 id="Step_by_Step">Step by Step</h2>
<h3 id="Step_1">Step 1</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">mkdir &lt;project name&gt;   </div><div class="line"><span class="built_in">cd</span> &lt;project name&gt;</div><div class="line">vagrant init ubuntu/trusty64</div><div class="line">vagrant up</div></pre></td></tr></table></figure>

]]>
    
    </summary>
    
      <category term="Ruby on Rails" scheme="http://freemanhsu.github.io/tags/Ruby-on-Rails/"/>
    
      <category term="Ruby on Rails" scheme="http://freemanhsu.github.io/categories/Ruby-on-Rails/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Hello Hexo]]></title>
    <link href="http://freemanhsu.github.io/Hello-Hexo/"/>
    <id>http://freemanhsu.github.io/Hello-Hexo/</id>
    <published>2015-02-04T15:50:31.000Z</published>
    <updated>2015-03-30T13:00:59.000Z</updated>
    <content type="html"><![CDATA[<p>After going through blog systems as wordpress, jekyll, farbox, etc. Downloading, configuring, deploying, writing one episode or two and turn to another one…</p>
<a id="more"></a>
<p>Okay, here I am, with Hexo! Why Hexo? I finally realized that what’s important is keep blogging when I happened to try Hexo… </p>
<h3 id="LOL">LOL</h3>
<h3 id="Keep_Blogging-">Keep Blogging.</h3>
]]></content>
    <summary type="html">
    <![CDATA[<p>After going through blog systems as wordpress, jekyll, farbox, etc. Downloading, configuring, deploying, writing one episode or two and turn to another one…</p>
]]>
    
    </summary>
    
  </entry>
  
</feed>
